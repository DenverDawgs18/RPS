<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function getComputerChoice(){
            // pick a random number between 1 and 3
            let number = Math.floor(Math.random() * (3 -1 + 1)) + 1;
            // if number is one return rock
            if (number === 1){
                return "rock";
            }
            // if number is two return paper
            else if (number === 2){
                return "paper";
            }
            // if number is three return scissors
            else{
                return "scissors"
            }
        }
        function playRound(playerSelection, computerSelection){
            if (playerSelection.toLowerCase() === computerSelection.toLowerCase() ){
                return "tie"
            }

            else if ((playerSelection.toLowerCase() === "rock" && computerSelection.toLowerCase() === "scissors") 
                || (playerSelection.toLowerCase() === "paper" && computerSelection.toLowerCase() === "rock")
                || (playerSelection.toLowerCase() === "scissors" && computerSelection.toLowerCase() === "paper")
            ){   
            return `You Win! ${playerSelection} beats ${computerSelection}`
        }   
            else{
                return `You Lose! ${computerSelection} beats ${playerSelection}`
            }

        }
        function clean(data){
            if (data.toLowerCase() === "rock" || data.toLowerCase() === "paper" || data.toLowerCase()
            === "scissors"){
                return "clean"
        }
            else{
                return "not clean"
            }
        }
        function game(){
            let playerScore = 0;
            let computerScore = 0;
            let score = 0;
            while (true){
                if (score === 5){
                    if (playerScore >= 3){
                        console.log(`You won by a score of ${playerScore} to ${computerScore}`)
                        break
                    }
                    else{
                        console.log(`You lost by a score of ${computerScore} to ${playerScore}`)
                        break
                    }
                }

                let checkCondition = true;
                let playerChoice = prompt("What is your choice? ")
                while(checkCondition){
                    let cleanedPlayer = clean(playerChoice);
                    if (cleanedPlayer === "clean"){
                        checkCondition = false;
                    }
                    else{
                        alert("please enter rock paper or scissors")
                        playerChoice = prompt("What is your choice? ")
                    }
                }
                check = playRound(playerChoice, getComputerChoice())
                if (check === "tie"){
                    //pass
                    console.log("Tie")
                }
                else if (check.slice(4, 7) === "Win"){
                    playerScore++
                    score++
                    console.log(check)
                }
                else{
                    console.log(check)
                    computerScore++
                    score++
                }
                

            }
        }
        game()
    </script>
</body>
</html>