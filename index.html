<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- Create three buttons one for each choice
    When button is clicked call play round using the correct choice
    Create a div that displays current score -->
    <button id="rock">Rock</button>
    <button id="paper"> Paper </button>
    <button id="scissors"> Scissors </button>
    <div class="results"> 
        <p id="computerScoreDOM"> Computer Score: <span id="realCScore"> 0 </span></p>
        <p id="playerScoreDOM"> Player Score: <span id="realPlayerScore"> 0 </span></p>
    </div>
    <script>
        function getComputerChoice(){
            // pick a random number between 1 and 3
            let number = Math.floor(Math.random() * (3 -1 + 1)) + 1;
            // if number is one return rock
            if (number === 1){
                return "rock";
            }
            // if number is two return paper
            else if (number === 2){
                return "paper";
            }
            // if number is three return scissors
            else{
                return "scissors"
            }
        }
        const rock = document.querySelector("#rock");
        const paper = document.querySelector("#paper");
        const scissors = document.querySelector("#scissors");
        const results = document.querySelector(".results")
        const realCScore = document.querySelector("#realCScore");
        const realPlayerScore = document.querySelector("#realPlayerScore");
        let playerScore = 0;
        let computerScore = 0;
        rock.addEventListener("click", function(){
            let result = playRound("rock", getComputerChoice());
        }
        );
        paper.addEventListener("click", function(){
            let result = playRound("paper", getComputerChoice());
            console.log(result);
        }
        );
        scissors.addEventListener("click", function(){
            let result = playRound("scissors", getComputerChoice());
            console.log(result);
        }
        );
        function playRound(playerSelection, computerSelection){
            if (playerSelection.toLowerCase() === computerSelection.toLowerCase() ){
                return "tie"
            }

            else if ((playerSelection.toLowerCase() === "rock" && computerSelection.toLowerCase() === "scissors") 
                || (playerSelection.toLowerCase() === "paper" && computerSelection.toLowerCase() === "rock")
                || (playerSelection.toLowerCase() === "scissors" && computerSelection.toLowerCase() === "paper")
            ){   
                playerScore++;
                if (playerScore === 5){
                    alert(`You have won by a score of ${playerScore} to ${computerScore}`);
                    window.location.reload()
                }
                realPlayerScore.textContent = playerScore; 
                
            return `You Win! ${playerSelection} beats ${computerSelection}`
        }   
            else{
                computerScore++;
                if (computerScore === 5){
                    alert(`You have lost by a score of ${computerScore} to ${playerScore}`);
                    window.location.reload()
                }
                realCScore.textContent = computerScore;
                return `You Lose! ${computerSelection} beats ${playerSelection}`
            }

        }


        

    /* 
        function clean(data){
            if (data.toLowerCase() === "rock" || data.toLowerCase() === "paper" || data.toLowerCase()
            === "scissors"){
                return "clean"
        }
            else{
                return "not clean"
            }
        }
    For console version of the game
        function game(){
            let playerScore = 0;
            let computerScore = 0;
            let score = 0;
            while (true){
                if (score === 5){
                    if (playerScore >= 3){
                        console.log(`You won by a score of ${playerScore} to ${computerScore}`)
                        break
                    }
                    else{
                        console.log(`You lost by a score of ${computerScore} to ${playerScore}`)
                        break
                    }
                }

                let checkCondition = true;
                let playerChoice = prompt("What is your choice? ")
                while(checkCondition){
                    let cleanedPlayer = clean(playerChoice);
                    if (cleanedPlayer === "clean"){
                        checkCondition = false;
                    }
                    else{
                        alert("please enter rock paper or scissors")
                        playerChoice = prompt("What is your choice? ")
                    }
                }
                check = playRound(playerChoice, getComputerChoice())
                if (check === "tie"){
                    //pass
                    console.log("Tie")
                }
                else if (check.slice(4, 7) === "Win"){
                    playerScore++
                    score++
                    console.log(check)
                }
                else{
                    console.log(check)
                    computerScore++
                    score++
                }
                

            }
        }
        game()
    */
    </script>
</body>
</html>